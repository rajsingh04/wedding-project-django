        {% include 'header.html'%}
        {% load static %}
        
        <!-- RSVP Form Start -->
        <div class="container-fluid RSVP-form py-5" id="weddingRsvp">
            <div class="container py-5">
                <div class="mb-5 text-center mx-auto wow fadeIn" data-wow-delay="0.1s" style="max-width: 800px;">
                    <h1 class="display-2 text-primary">RSVP Form</h1>
                    {% if wedding_events.0 %}
                    <p class="fs-5 text-dark">Join us for {{ wedding_events.0.name }} on {{ wedding_events.0.date|date:'F j, Y' }}</p>
                    {% endif %}
                </div>
                
                {% if messages %}
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                
                <div class="row justify-content-center">
                    <div class="col-md-10">
                        <div class="p-5 border-secondary position-relative" style="border-style: double;">
                            <div class="fw-bold text-primary bg-white d-flex align-items-center justify-content-center position-absolute border-secondary p-2 wow fadeIn" data-wow-delay="0.1s" style="width: 75%; border-style: double; top: 0; left: 50%; transform: translate(-50%, -50%);">
                                Kindly respond by our wedding date - we look forward to celebrating with you!
                            </div>
                            <form method="post">
                                {% csrf_token %}
                                <div class="row gx-4 gy-3">
                                    <div class="col-lg-12 wow fadeIn" data-wow-delay="0.1s">
                                        <div class="form-group">
                                            {{ form.name.label_tag }}
                                            {{ form.name }}
                                        </div>
                                    </div>
                                    <div class="col-lg-6 wow fadeIn" data-wow-delay="0.2s">
                                        <div class="form-group">
                                            {{ form.email.label_tag }}
                                            {{ form.email }}
                                        </div>
                                    </div>
                                    <div class="col-lg-6 wow fadeIn" data-wow-delay="0.3s">
                                        <div class="form-group">
                                            {{ form.phone.label_tag }}
                                            {{ form.phone }}
                                        </div>
                                    </div>
                                    <div class="col-lg-6 wow fadeIn" data-wow-delay="0.4s">
                                        <div class="form-group">
                                            {{ form.response.label_tag }}
                                            {{ form.response }}
                                        </div>
                                    </div>
                                    <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
                                        <div class="form-group">
                                            {{ form.number_of_guests.label_tag }}
                                            {{ form.number_of_guests }}
                                        </div>
                                    </div>
                                    <div class="col-lg-6 wow fadeIn" data-wow-delay="0.6s">
                                        <div class="form-group">
                                            {{ form.meal_preference.label_tag }}
                                            {{ form.meal_preference }}
                                        </div>
                                    </div>
                                    <div class="col-lg-6 wow fadeIn" data-wow-delay="0.7s">
                                        <div class="form-group">
                                            {{ form.dietary_requirements.label_tag }}
                                            {{ form.dietary_requirements }}
                                        </div>
                                    </div>
                                    <div class="col-lg-12 wow fadeIn" data-wow-delay="0.8s">
                                        <div class="form-group">
                                            {{ form.special_requests.label_tag }}
                                            {{ form.special_requests }}
                                        </div>
                                    </div>
                                    <div class="col-lg-12 wow fadeIn" data-wow-delay="0.9s">
                                        <div class="form-group">
                                            {{ form.message.label_tag }}
                                            {{ form.message }}
                                        </div>
                                    </div>
                                    <div class="col-12 text-center wow fadeIn" data-wow-delay="1.0s">
                                        <button class="btn btn-primary btn-primary-outline-0 py-3 px-5" type="submit">Submit RSVP</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="mt-5">
                <div class="row g-5 justify-content-center text-center">
                    {% if contact_info %}
                    <div class="col-md-4 wow fadeIn" data-wow-delay="0.1s">
                        <div class="p-4 border-secondary" style="border-style: double;">
                            <h4>Call Us Now</h4>
                            <a href="tel:{{ contact_info.phone }}" class="text-dark">{{ contact_info.phone }}</a>
                        </div>
                    </div>
                    {% endif %}
                    {% if wedding_events.0 %}
                    <div class="col-md-4 wow fadeIn" data-wow-delay="0.3s">
                        <div class="p-4 border-secondary" style="border-style: double;">
                            <h4>When</h4>
                            <p class="mb-0 text-dark">
                                {{ wedding_events.0.date|date:'F j, Y' }} at {{ wedding_events.0.date|time:'g:i A' }}
                            </p>
                        </div>
                    </div>
                    <div class="col-md-4 wow fadeIn" data-wow-delay="0.5s">
                        <div class="p-4 border-secondary" style="border-style: double;">
                            <h4>Where</h4>
                            <p class="mb-0 text-dark">
                                {{ wedding_events.0.location }}
                                {% if wedding_events.0.address %}<br>{{ wedding_events.0.address }}{% endif %}
                            </p>
                        </div>
                    </div>
                    {% else %}
                    <div class="col-md-4 wow fadeIn" data-wow-delay="0.3s">
                        <div class="p-4 border-secondary" style="border-style: double;">
                            <h4>When</h4>
                            <p class="mb-0 text-dark">
                                Coming Soon - Save the Date!
                            </p>
                        </div>
                    </div>
                    <div class="col-md-4 wow fadeIn" data-wow-delay="0.5s">
                        <div class="p-4 border-secondary" style="border-style: double;">
                            <h4>Where</h4>
                            <p class="mb-0 text-dark">
                                Wedding Venue Location
                            </p>
                        </div>
                    </div>
                    {% endif %}
                    <div class="col-12 wow fadeIn" data-wow-delay="0.2s">
                        <div class="border-secondary" style="border-style: double;">
                            {% if contact_info.map_embed_url %}
                            <iframe class="w-100" 
                            style="height: 450px; margin-bottom: -6px;" src="{{ contact_info.map_embed_url }}" 
                            loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            {% else %}
                            <iframe class="w-100" 
                            style="height: 450px; margin-bottom: -6px;" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d387191.33750346623!2d-73.97968099999999!3d40.6974881!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2sbd!4v1694259649153!5m2!1sen!2sbd" 
                            loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <!-- RSVP Form End -->

        {% include 'footer.html' %}